FROM python:3.8

WORKDIR /app

ENV FLASK_ENV=development
ENV FLASK_APP=catanatron_server/server.py
ENV FLASK_RUN_HOST=0.0.0.0

# We can't leverage Docker caching too much since we
#   depend on the catanatron package via "-e ." in requirements.txt
COPY . .
RUN pip install --upgrade pip
RUN pip install -r requirements.txt

EXPOSE 5000

CMD flask run
